
@{
    ViewBag.Title = "Contact";
}

<h2 style="font-size: 30px; text-align: center; margin-top: 30px"><b>Contact us</b></h2>
<hr />

<h3>Contact form</h3>
<div class="jumbotron">
    <form role="form" data-bind="submit: submitForm">
        <div class="form-group">
            <label for="user" style="font-size: 16px"><b>Name:</b></label>
            <input type="text" class="form-control" id="user" data-bind="value: name"/>
        </div>
        <div class="form-group">
            <label for="email" style="font-size: 16px"><b>E-mail:</b></label>
            <input type="email" class="form-control" id="email" data-bind="value: email"/>
        </div>
        <div class="form-group">
            <label for="comment" style="font-size: 16px"><b>Comment:</b></label>
            <textarea class="form-control" rows="5" id="comment" data-bind="value: message"style="min-width: 100%"></textarea>
        </div>
        <p id="textSubmit" data-bind="text: submitMessage"></p>
        <div style="text-align: center">
            <button type="submit" class="btn btn-primary" data-bind="enable: enableSubmit" style="min-width: 80px">Submit</button>
            <button type="button" class="btn btn-danger" data-bind="click: clearFields, enable: enableClear" style="min-width: 80px">Clear</button>
        </div>
    </form>
</div>

<script>
    function AppViewModel() {
        var self = this;

        self.name = ko.observable("");
        self.email = ko.observable("");
        self.message = ko.observable("");
        self.submitMessage = ko.computed(function () {
            if (self.name().length != 0) {
                return "Hello, " + self.name() + "! When you are ready, please click the \"Submit\" button to send us your message.";
            } else {
                return "";
            }
        }, self);

        self.clearFields = function () {
            self.name("");
            self.email("");
            self.message("");
            document.getElementById("textSubmit").innerHTML = "";
        };

        self.enableSubmit = ko.computed(function () {
            if (self.name().length != 0 && self.email().length != 0 && self.message().length != 0) {
                return true;
            }
            return false;
        }, self);

        self.enableClear = ko.computed(function () {
            if (self.name().length != 0 || self.email().length != 0 || self.message().length != 0) {
                return true;
            }
            return false;
        }, self);

        self.submitForm = function () {
            var tempName = self.name();
            self.clearFields();
            document.getElementById("textSubmit").innerHTML = "Thank you for your feedback, " + tempName + "! Your message was sent successfully.";
        };
    }

    ko.applyBindings(new AppViewModel());
</script>

